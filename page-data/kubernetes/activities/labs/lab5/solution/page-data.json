{"componentChunkName":"component---src-pages-kubernetes-activities-labs-lab-5-solution-mdx","path":"/kubernetes/activities/labs/lab5/solution/","result":{"pageContext":{"frontmatter":{"title":"Kubernetes Lab 5 - Debugging"},"relativePagePath":"/kubernetes/activities/labs/lab5/solution.mdx","titleType":"page","MdxNode":{"id":"afd05e4a-fd98-5788-8d7d-c6d23b07d206","children":[],"parent":"4fd6e928-2022-5240-8430-e786c2194d26","internal":{"content":"---\ntitle: Kubernetes Lab 5 - Debugging\n---\n\n## Solution\n\nCheck `STATUS` column for not Ready\n```\nkubectl get pods --all-namespaces\n```\n\nPod with most cpu on that namespace\n```\nkubectl top pod -n <namespace>\n```\n\nSave broken pod summary in json format\n```\nkubectl get pod <pod name> -n <namespace> -o json > /home/cloud_user/debug/broken-pod-summary.json\n```\n\nSave logs for broken pod\n```\nkubectl logs <pod name> -n <namespace> > /home/cloud_user/debug/broken-pod-logs.log\n```\n\nFix broken pod, Check Events\n```\nkubectl describe pod <pod name> -n <namespace>\n```\n\nTo fix probe, can't kubectl edit, need to delete and recreate pod\n```\nkubectl get pod <pod name> -n <namespace> -o yaml --export > broken-pod.yml\n```\n\nDelete pod\n```\nkubectl delete pod <pod name> -n <namespace>\n```\n\nCan also use `kubectl replace`\n\nEdit yaml, and apply\n```\nkubectl apply -f broken-pod.yml -n <namespace>\n```\n\nVerify\n```\nkubectl get pod <pod name> -n <namespace>\n```\n","type":"Mdx","contentDigest":"2ea6ef6d0e95bf24ecb92c43b9aafaaf","counter":301,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Kubernetes Lab 5 - Debugging"},"exports":{},"rawBody":"---\ntitle: Kubernetes Lab 5 - Debugging\n---\n\n## Solution\n\nCheck `STATUS` column for not Ready\n```\nkubectl get pods --all-namespaces\n```\n\nPod with most cpu on that namespace\n```\nkubectl top pod -n <namespace>\n```\n\nSave broken pod summary in json format\n```\nkubectl get pod <pod name> -n <namespace> -o json > /home/cloud_user/debug/broken-pod-summary.json\n```\n\nSave logs for broken pod\n```\nkubectl logs <pod name> -n <namespace> > /home/cloud_user/debug/broken-pod-logs.log\n```\n\nFix broken pod, Check Events\n```\nkubectl describe pod <pod name> -n <namespace>\n```\n\nTo fix probe, can't kubectl edit, need to delete and recreate pod\n```\nkubectl get pod <pod name> -n <namespace> -o yaml --export > broken-pod.yml\n```\n\nDelete pod\n```\nkubectl delete pod <pod name> -n <namespace>\n```\n\nCan also use `kubectl replace`\n\nEdit yaml, and apply\n```\nkubectl apply -f broken-pod.yml -n <namespace>\n```\n\nVerify\n```\nkubectl get pod <pod name> -n <namespace>\n```\n","fileAbsolutePath":"/home/travis/build/ibm-cloud-architecture/learning-cloudnative-101/src/pages/kubernetes/activities/labs/lab5/solution.mdx"}}}}